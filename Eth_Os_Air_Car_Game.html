<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Car Overtake Game with Wall</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #333;
      font-family: sans-serif;
      color: white;
    }
    #gameArea {
      position: relative;
      width: 100vw;
      height: 100vh;
      margin: 0 auto;
      background: #222;
      overflow: hidden;
    }
    .line {
      position: absolute;
      width: 5px;
      height: 100px;
      background: white;
    }
    .wall {
      position: absolute;
      width: 10px;
      height: 100%;
      background: yellow;
      top: 0;
      z-index: 1;
    }
    .left-wall {
      left: 25%;
    }
    .right-wall {
      left: 75%;
    }
    .car, .enemy {
      position: absolute;
      width: 50px;
      height: 100px;
      border-radius: 10px;
      border: 2px solid #000;
      background: red;
      background-image: linear-gradient(to bottom, #f00 40%, #c00 60%);
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    .car::before, .enemy::before {
      content: '';
      position: absolute;
      width: 30px;
      height: 10px;
      background: #fff;
      top: 10px;
      left: 10px;
      border-radius: 3px;
    }
    .car {
      background: #00f;
      background-image: linear-gradient(to bottom, #00f 40%, #009 60%);
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2;
    }
    .tree {
      position: absolute;
      width: 40px;
      height: 60px;
      background: green;
      border-radius: 50%;
      bottom: 0;
    }
    .tree::before {
      content: '';
      position: absolute;
      bottom: -20px;
      left: 15px;
      width: 10px;
      height: 20px;
      background: brown;
      border-radius: 2px;
    }
    #airCounter {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 20px;
      font-weight: bold;
      z-index: 4;
    }
    #gameOver {
      display: none;
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      background: rgba(0,0,0,0.8);
      padding: 30px;
      border-radius: 10px;
    }
    #gameOver button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="gameArea">
    <div class="wall left-wall"></div>
    <div class="wall right-wall"></div>
    <div class="car" id="player"></div>
    <div id="airCounter">AIR: 0</div>
    <div id="gameOver">
      <div id="finalScore">Kazancın: 0 AIR</div>
      <button onclick="location.reload()">Tekrar Oyna</button>
    </div>
  </div>

  <script>
    const gameArea = document.getElementById('gameArea');
    const player = document.getElementById('player');
    const airCounter = document.getElementById('airCounter');
    const gameOverScreen = document.getElementById('gameOver');
    const finalScoreText = document.getElementById('finalScore');

    let keys = { ArrowLeft: false, ArrowRight: false };
    let playerX = window.innerWidth / 2 - 25;
    let gameSpeed = 7;
    let airPoints = 0;

    document.addEventListener('keydown', e => keys[e.key] = true);
    document.addEventListener('keyup', e => keys[e.key] = false);

    function createLines() {
      const positions = [
        window.innerWidth / 3,
        window.innerWidth / 2,
        (window.innerWidth * 2) / 3
      ];
      for (let i = 0; i < 5; i++) {
        for (let x = 0; x < positions.length; x++) {
          let line = document.createElement('div');
          line.className = 'line';
          line.style.left = positions[x] + 'px';
          line.style.top = (i * 200) + 'px';
          gameArea.appendChild(line);
        }
      }
    }

    function moveLines() {
      let lines = document.querySelectorAll('.line');
      lines.forEach(line => {
        let top = parseInt(line.style.top);
        top += gameSpeed;
        if (top > window.innerHeight) top = -100;
        line.style.top = top + 'px';
      });
    }

    function createTrees() {
      for (let i = 0; i < 6; i++) {
        let treeLeft = document.createElement('div');
        treeLeft.className = 'tree';
        treeLeft.style.left = '20px';
        treeLeft.style.bottom = (i * 200) + 'px';
        gameArea.appendChild(treeLeft);

        let treeRight = document.createElement('div');
        treeRight.className = 'tree';
        treeRight.style.left = (window.innerWidth - 60) + 'px';
        treeRight.style.bottom = (i * 200) + 'px';
        gameArea.appendChild(treeRight);
      }
    }

    function moveTrees() {
      let trees = document.querySelectorAll('.tree');
      trees.forEach(tree => {
        let bottom = parseInt(tree.style.bottom);
        bottom -= gameSpeed;
        if (bottom < -80) bottom = window.innerHeight + Math.random() * 200;
        tree.style.bottom = bottom + 'px';
      });
    }

    function randomColor() {
      const colors = ['#f00', '#0f0', '#ff0', '#0ff', '#f0f', '#ffa500'];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function createEnemy() {
      let enemy = document.createElement('div');
      enemy.className = 'enemy';
      enemy.style.top = '-120px';
      const lanes = [
        window.innerWidth * 0.33 - 25,
        window.innerWidth * 0.5 - 25,
        window.innerWidth * 0.66 - 25
      ];
      enemy.style.left = lanes[Math.floor(Math.random() * lanes.length)] + 'px';
      enemy.style.background = randomColor();
      gameArea.appendChild(enemy);
    }

    function moveEnemies() {
      let enemies = document.querySelectorAll('.enemy');
      enemies.forEach(enemy => {
        let top = parseInt(enemy.style.top);
        top += gameSpeed;
        if (top > window.innerHeight) {
          airPoints += 1;
          airCounter.innerText = 'AIR: ' + airPoints;
          enemy.remove();
        } else {
          enemy.style.top = top + 'px';

          const eLeft = parseInt(enemy.style.left);
          const pLeft = playerX;
          if (
            top + 100 > window.innerHeight - 120 &&
            top < window.innerHeight &&
            eLeft < pLeft + 50 &&
            eLeft + 50 > pLeft
          ) {
            finalScoreText.innerText = 'Kazancın: ' + airPoints + ' AIR';
            gameOverScreen.style.display = 'block';
            cancelAnimationFrame(animationFrame);
          }
        }
      });
    }

    function gameLoop() {
      moveLines();
      moveEnemies();
      moveTrees();

      const roadLeft = window.innerWidth * 0.25;
      const roadRight = window.innerWidth * 0.75 - 50;

      if (keys.ArrowLeft && playerX > roadLeft) playerX -= 7;
      if (keys.ArrowRight && playerX < roadRight) playerX += 7;
      player.style.left = playerX + 'px';

      animationFrame = requestAnimationFrame(gameLoop);
    }

    createLines();
    createTrees();
    setInterval(createEnemy, 1000);
    let animationFrame = requestAnimationFrame(gameLoop);
  </script>
</body>
</html>